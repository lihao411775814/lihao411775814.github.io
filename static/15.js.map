{"version":3,"sources":["webpack:///15.js","webpack:///WritecardInfo.vue","webpack:///./src/components/charge/userinfo/WritecardInfo.vue?9f50","webpack:///./src/components/charge/userinfo/WritecardInfo.vue"],"names":["webpackJsonp","479","module","exports","Object","defineProperty","value","default","title","data","hasCardSale","props","methods","sellgas","this","tobuy","console","log","sellType","cardinfo","stairprices","$PosUtil","posParam","fmybuygas","userinfo","f_user_type","$showMessage","f_table_state","f_meter_type","f_calculation","Gas","undefined","Money","length","CardID","f_remain_gas","f_cycle_start","f_cycle_end","limit_gas","$goto","userInfo","cardInfo","stairPrices","callBack","writecard","$dispatch","ready","rows","928","1052","__webpack_require__","__vue_script__","__vue_template__","__vue_styles__","__esModule","__vue_options__","options","template","computed","keys","forEach","key"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,GAEvB,YAEAC,QAAOC,eAAeF,EAAS,cAC7BG,OAAO,IAETH,EAAQI,SCoBTC,MAAA,QACAC,KAFA,WAGA,OACAC,aAAA,IAGAC,OAAA,4CACAC,SACAC,QADA,WAEAC,KAAAC,SAEAA,MAJA,WASA,GAHAC,QAAAC,IAAA,kBAAAH,KAAAI,UACAF,QAAAC,IAAA,kBAAAH,KAAAK,UACAH,QAAAC,IAAA,oBAAAH,KAAAM,aACA,MAAAN,KAAAO,SAAAC,SAAAC,WAAA,OAAAT,KAAAU,SAAAC,YAEA,WADAX,MAAAY,aAAA,gBAGA,WAAAZ,KAAAU,SAAAG,cAEA,WADAb,MAAAY,aAAA,SAAAZ,KAAAU,SAAAG,cAAA,QAIA,WAAAb,KAAAU,SAAAI,cAAA,SAAAd,KAAAU,SAAAI,cAAA,QAAAd,KAAAU,SAAAK,mBAEA,CACA,YAAAf,KAAAU,SAAAI,aAAA,CACA,OAAAd,KAAAK,SAAAW,KAAA,MAAAhB,KAAAK,SAAAW,KAAAC,SAAAjB,KAAAK,SAAAW,IAEA,WADAhB,MAAAY,aAAA,YAEA,QAAAZ,KAAAK,SAAAa,OAAA,MAAAlB,KAAAK,SAAAa,OAAAD,SAAAjB,KAAAK,SAAAa,MAEA,WADAlB,MAAAY,aAAA,YAEA,IAAAZ,KAAAM,YAAAa,OAAA,EAEA,WADAnB,MAAAY,aAAA,KAAAZ,KAAAM,YAAAa,OAAA,yBAGA,WAAAnB,KAAAK,SAAAe,QAAA,KAAApB,KAAAK,SAAAe,OAEA,WADApB,MAAAY,aAAA,WAGA,IAAAZ,KAAAU,SAAAW,aAAA,EAEA,WADArB,MAAAY,aAAAZ,KAAAU,SAAAY,cAAA,IAAAtB,KAAAU,SAAAa,YAAA,QAAAvB,KAAAU,SAAAc,UAAA,uBAAAxB,KAAAU,SAAAa,YAAA,UAIAvB,KAAAyB,MAAA,iBACAC,SAAA1B,KAAAU,SACAiB,SAAA3B,KAAAK,SACAuB,YAAA5B,KAAAM,aACA,OAAAN,KAAA6B,YAIAC,UAjDA,WAkDA9B,KAAA+B,UAAA,iBAGAC,MA7DA,WA8DAhC,KAAAJ,YAAAI,KAAAO,SAAAC,SAAAZ,YACAM,QAAAC,IAAA,kCAAAH,KAAAiC,MACA/B,QAAAC,IAAA,sCAAAH,KAAAU,UACAR,QAAAC,IAAA,sCAAAH,KAAAK,UACAH,QAAAC,IAAA,yCAAAH,KAAAM,gBDfM4B,IACA,SAAU9C,EAAQC,GEjFxBD,EAAAC,QAAA,44BFuFM8C,KACA,SAAU/C,EAAQC,EAAS+C,GGxFjC,GAAAC,GAAAC,EACAC,IACAF,GAAAD,EAAA,KACAE,EAAAF,EAAA,KACAhD,EAAAC,QAAAgD,MACAjD,EAAAC,QAAAmD,aAAApD,EAAAC,QAAAD,EAAAC,QAAAI,QACA,IAAAgD,GAAA,kBAAArD,GAAAC,QAAAD,EAAAC,QAAAqD,UAAAtD,EAAAC,QAAAqD,YAAoHtD,EAAAC,OACpHiD,KACAG,EAAAE,SAAAL,GAEAG,EAAAG,WAAAH,EAAAG,aACAtD,OAAAuD,KAAAN,GAAAO,QAAA,SAAAC,GACA,GAAA3D,GAAAmD,EAAAQ,EACAN,GAAAG,SAAAG,GAAA,WAA6C,MAAA3D","file":"15.js","sourcesContent":["webpackJsonp([15],{\n\n/***/ 479:\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  title: '未写卡记录',\n\t  data: function data() {\n\t    return {\n\t      hasCardSale: true\n\t    };\n\t  },\n\t\n\t  props: ['rows', 'userinfo', 'cardinfo', 'stairprices'],\n\t  methods: {\n\t    sellgas: function sellgas() {\n\t      this.tobuy();\n\t    },\n\t    tobuy: function tobuy() {\n\t\n\t      console.log('查看this.sellType', this.sellType);\n\t      console.log('查看this.cardinfo', this.cardinfo);\n\t      console.log('查看this.stairprice', this.stairprices);\n\t      if (this.$PosUtil.posParam.fmybuygas !== '是' && this.userinfo.f_user_type !== '民用') {\n\t        this.$showMessage('非民用用户请到营业厅购气！');\n\t        return;\n\t      }\n\t      if (this.userinfo.f_table_state !== '正常') {\n\t        this.$showMessage('该表状态为\\'' + this.userinfo.f_table_state + '\\'不能购气');\n\t        return;\n\t      }\n\t\n\t      if (this.userinfo.f_meter_type === '机表' || this.userinfo.f_meter_type === '物联网表' && this.userinfo.f_calculation === '后付费') {} else {\n\t        if (this.userinfo.f_meter_type !== '物联网表') {\n\t          if (this.cardinfo.Gas !== 0 && this.cardinfo.Gas !== '0' && this.cardinfo.Gas !== undefined) {\n\t            this.$showMessage('卡上有气不能购气！');\n\t            return;\n\t          } else if (this.cardinfo.Money !== 0 && this.cardinfo.Money !== '0' && this.cardinfo.Money !== undefined) {\n\t            this.$showMessage('卡上有钱不能购气！');\n\t            return;\n\t          } else if (this.stairprices.length > 0) {\n\t            this.$showMessage('您有' + this.stairprices.length + '笔未写卡的缴费记录，请先写卡，否则无法购气！');\n\t            return;\n\t          }\n\t          if (this.cardinfo.CardID === null || this.cardinfo.CardID === '') {\n\t            this.$showMessage('卡号为空不能购气');\n\t            return;\n\t          }\n\t          if (this.userinfo.f_remain_gas < 0) {\n\t            this.$showMessage(this.userinfo.f_cycle_start + '至' + this.userinfo.f_cycle_end + '限购气量为' + this.userinfo.limit_gas + '方，剩余可购气量为0方，请到柜台办理或于' + this.userinfo.f_cycle_end + '以后再来购气');\n\t            return;\n\t          }\n\t        }\n\t        this.$goto('card-sell-gas', {\n\t          userInfo: this.userinfo,\n\t          cardInfo: this.cardinfo,\n\t          stairPrices: this.stairprices\n\t        }, 'self', this.callBack);\n\t      }\n\t    },\n\t    writecard: function writecard() {\n\t      this.$dispatch('goWritecard');\n\t    }\n\t  },\n\t  ready: function ready() {\n\t    this.hasCardSale = this.$PosUtil.posParam.hasCardSale;\n\t    console.log('====================查看this.rows', this.rows);\n\t    console.log('====================查看this.userInfo', this.userinfo);\n\t    console.log('====================查看this.cardInfo', this.cardinfo);\n\t    console.log('====================查看this.stairprices', this.stairprices);\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 928:\n/***/ (function(module, exports) {\n\n\tmodule.exports = \" <div class=auto> <div class=box v-if=\\\"rows.length <= 0\\\"> <h3>您当前没有欠费信息，请直接充值</h3> <div class=box-row style=text-align:center v-if=hasCardSale> <button type=button class=\\\"btn btn-primary\\\" style=\\\"width: 38%;font-size: 22px\\\" @click=sellgas()>购 气 写 卡 </button> </div> </div> <div class=box v-for=\\\"row in rows\\\" v-if=\\\"rows.length > 0\\\"> <div class=box_body style=\\\"z-index: 20\\\"> <div class=box-row> <span class=box-span>购气量：{{parseFloat(row.f_pregas).toFixed(0)}} 方</span> <span class=box-span>总金额：{{parseFloat(row.f_preamount).toFixed(2)}} 元</span> </div> <div class=box-row> <span class=\\\"glyphicon glyphicon-time\\\" style=\\\"color: #00A9FF\\\"></span>&nbsp;&nbsp;<span style=\\\"color: #aaaaaa\\\">{{row.f_delivery_date}} </span> </div> </div> <div class=box-row style=text-align:center> <button type=button class=\\\"btn btn-primary\\\" style=\\\"width: 38%;font-size: 25px\\\" @click=writecard()> 写 卡 </button> </div> </div> </div> \";\n\n/***/ }),\n\n/***/ 1052:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\tvar __vue_styles__ = {}\n\t__vue_script__ = __webpack_require__(479)\n\t__vue_template__ = __webpack_require__(928)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\n\tif (__vue_template__) {\n\t__vue_options__.template = __vue_template__\n\t}\n\tif (!__vue_options__.computed) __vue_options__.computed = {}\n\tObject.keys(__vue_styles__).forEach(function (key) {\n\tvar module = __vue_styles__[key]\n\t__vue_options__.computed[key] = function () { return module }\n\t})\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 15.js","<template>\n  <div class=\"auto\">\n    <div class=\"box\" v-if=\"rows.length <= 0\">\n      <h3>您当前没有欠费信息，请直接充值</h3>\n      <div class=\"box-row\" style=\"text-align:center;\" v-if=\"hasCardSale\">\n        <button type=\"button\" class=\"btn  btn-primary\" style=\"width: 38%;font-size: 22px;\" @click=\"sellgas()\">购 气 写 卡\n        </button>\n      </div>\n    </div>\n    <div class=\"box\" v-for=\"row in rows\" v-if=\"rows.length > 0\">\n      <div class=\"box_body\" style=\"z-index: 20;\">\n        <div class=\"box-row\">\n          <span class=\"box-span\">购气量：{{parseFloat(row.f_pregas).toFixed(0)}} 方</span>\n           <span class=\" box-span\">总金额：{{parseFloat(row.f_preamount).toFixed(2)}} 元</span>\n        </div>\n        <div class=\"box-row\">\n          <span class=\"glyphicon glyphicon-time\" style=\"color: #00A9FF;\"></span>&nbsp;&nbsp;<span\n          style=\"color: #aaaaaa;\">{{row.f_delivery_date}}\n           </span>\n        </div>\n      </div>\n      <div class=\"box-row\" style=\"text-align:center;\">\n        <button type=\"button\" class=\"btn  btn-primary\" style=\"width: 38%;font-size: 25px;\" @click=\"writecard()\"> 写 卡\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  export default {\n    title: '未写卡记录',\n    data () {\n      return {\n        hasCardSale: true\n      }\n    },\n    props: ['rows', 'userinfo', 'cardinfo', 'stairprices'],\n    methods: {\n      sellgas() {\n        this.tobuy()\n      },\n      tobuy () {\n\n        console.log('查看this.sellType', this.sellType)\n        console.log('查看this.cardinfo', this.cardinfo)\n        console.log('查看this.stairprice', this.stairprices)\n        if (this.$PosUtil.posParam.fmybuygas !== '是' && this.userinfo.f_user_type !== '民用') {\n          this.$showMessage('非民用用户请到营业厅购气！')\n          return\n        }\n        if (this.userinfo.f_table_state !== '正常') {\n          this.$showMessage('该表状态为\\'' + this.userinfo.f_table_state + '\\'不能购气')\n          return\n        }\n        //非机表/物联网表则为卡表\n        if (this.userinfo.f_meter_type === '机表' || (this.userinfo.f_meter_type === '物联网表' && this.userinfo.f_calculation === '后付费')) {\n          //后付费\n        } else {\n          if (this.userinfo.f_meter_type !== '物联网表') {\n            if (this.cardinfo.Gas !== 0 && this.cardinfo.Gas !== '0' && this.cardinfo.Gas !== undefined) {\n              this.$showMessage('卡上有气不能购气！')\n              return\n            } else if (this.cardinfo.Money !== 0 && this.cardinfo.Money !== '0' && this.cardinfo.Money !== undefined) {\n              this.$showMessage('卡上有钱不能购气！')\n              return\n            } else if (this.stairprices.length > 0) {\n              this.$showMessage('您有' + this.stairprices.length + '笔未写卡的缴费记录，请先写卡，否则无法购气！')\n              return\n            }\n            if (this.cardinfo.CardID === null || this.cardinfo.CardID === '') {\n              this.$showMessage('卡号为空不能购气')\n              return\n            }\n            if (this.userinfo.f_remain_gas < 0) {\n              this.$showMessage(this.userinfo.f_cycle_start + '至' + this.userinfo.f_cycle_end + '限购气量为' + this.userinfo.limit_gas + '方，剩余可购气量为0方，请到柜台办理或于' + this.userinfo.f_cycle_end + '以后再来购气')\n              return\n            }\n          }\n          this.$goto('card-sell-gas', {\n            userInfo: this.userinfo,\n            cardInfo: this.cardinfo,\n            stairPrices: this.stairprices\n          }, 'self', this.callBack)\n        }\n\n      },\n      writecard() {\n        this.$dispatch('goWritecard')\n      }\n    },\n    ready () {\n      this.hasCardSale = this.$PosUtil.posParam.hasCardSale\n      console.log('====================查看this.rows', this.rows)\n      console.log('====================查看this.userInfo', this.userinfo)\n      console.log('====================查看this.cardInfo', this.cardinfo)\n      console.log('====================查看this.stairprices', this.stairprices)\n      // console.log('预写卡')\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// WritecardInfo.vue?1a998b28","module.exports = \" <div class=auto> <div class=box v-if=\\\"rows.length <= 0\\\"> <h3>您当前没有欠费信息，请直接充值</h3> <div class=box-row style=text-align:center v-if=hasCardSale> <button type=button class=\\\"btn btn-primary\\\" style=\\\"width: 38%;font-size: 22px\\\" @click=sellgas()>购 气 写 卡 </button> </div> </div> <div class=box v-for=\\\"row in rows\\\" v-if=\\\"rows.length > 0\\\"> <div class=box_body style=\\\"z-index: 20\\\"> <div class=box-row> <span class=box-span>购气量：{{parseFloat(row.f_pregas).toFixed(0)}} 方</span> <span class=box-span>总金额：{{parseFloat(row.f_preamount).toFixed(2)}} 元</span> </div> <div class=box-row> <span class=\\\"glyphicon glyphicon-time\\\" style=\\\"color: #00A9FF\\\"></span>&nbsp;&nbsp;<span style=\\\"color: #aaaaaa\\\">{{row.f_delivery_date}} </span> </div> </div> <div class=box-row style=text-align:center> <button type=button class=\\\"btn btn-primary\\\" style=\\\"width: 38%;font-size: 25px\\\" @click=writecard()> 写 卡 </button> </div> </div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/charge/userinfo/WritecardInfo.vue\n// module id = 928\n// module chunks = 15","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!../../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./WritecardInfo.vue\")\n__vue_template__ = require(\"!!vue-html-loader!../../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./WritecardInfo.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/charge/userinfo/WritecardInfo.vue\n// module id = 1052\n// module chunks = 15"],"sourceRoot":""}