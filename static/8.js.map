{"version":3,"sources":["webpack:///8.js","webpack:///./src/components/image/qrcode_no.png?868e*","webpack:///ScanQrcode.vue","webpack:///./src/components/charge/sellgas/ScanQrcode.vue?4cc7","webpack:///./src/components/charge/sellgas/ScanQrcode.vue"],"names":["webpackJsonp","99","module","exports","476","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_regenerator","_regenerator2","_co","_co2","_vue","_vue2","InterValObj","checkValObj","checkBillSateGen","mark","self","condition","ret","wrap","_context","prev","next","stair","f_serial_id","userInfo","f_userinfo_id","$resetpost","ProxyUrl","data","items","tablename","orderitem","resolveMsg","rejectMsg","sent","length","window","clearInterval","id","f_operator","f_outlets","console","log","$goto","cardInfo","stairPrice","back","t0","haserro","stop","this","title","needback","hideHead","isout","qrsrc","iserro","second","countDown","props","methods","isback","_this","$showMessage","then","res","$back","erro","$showAlert","msg","istomain","_this2","checkbillstate","gen","outOfPage","ready","url","encodeURIComponent","setInterval","925","1049","__vue_script__","__vue_template__","__vue_styles__","__vue_options__","options","template","computed","keys","forEach","key"],"mappings":"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","file":"8.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ 99:\n/***/ (function(module, exports) {\n\n\tmodule.exports = \"data:image/png;base64,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\"\n\n/***/ }),\n\n/***/ 476:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _regenerator = __webpack_require__(3);\n\t\n\tvar _regenerator2 = _interopRequireDefault(_regenerator);\n\t\n\tvar _co = __webpack_require__(7);\n\t\n\tvar _co2 = _interopRequireDefault(_co);\n\t\n\tvar _vue = __webpack_require__(2);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar InterValObj = void 0;\n\tvar checkValObj = void 0;\n\tvar checkBillSateGen = _regenerator2.default.mark(function checkBillSateGen(self) {\n\t  var condition, ret;\n\t  return _regenerator2.default.wrap(function checkBillSateGen$(_context) {\n\t    while (1) {\n\t      switch (_context.prev = _context.next) {\n\t        case 0:\n\t          _context.prev = 0;\n\t          condition = 'f_serial_id = \\'' + self.stair.f_serial_id + '\\' and f_userinfo_id = \\'' + self.userInfo.f_userinfo_id + '\\' and f_charge_state = \\'有效\\'';\n\t          _context.next = 4;\n\t          return self.$resetpost(_vue2.default.ProxyUrl + '/rs/sql/pos_singleTable_OrderBy', { data: { items: '*', tablename: 't_sellinggas', condition: condition, orderitem: 'f_delivery_date' } }, { resolveMsg: null, rejectMsg: null });\n\t\n\t        case 4:\n\t          ret = _context.sent;\n\t\n\t          if (ret.data.length === 1) {\n\t            window.clearInterval(checkValObj);\n\t            window.clearInterval(InterValObj);\n\t            self.stair.id = ret.data[0].id;\n\t            self.stair.f_operator = ret.data[0].f_operator;\n\t            self.stair.f_outlets = ret.data[0].f_outlets;\n\t            console.log(\"停止定时器去写卡self.stair\", self.stair);\n\t\n\t            self.$goto('write-card', { userInfo: self.userInfo, cardInfo: self.cardInfo, stairPrice: self.stair }, 'self', self.back);\n\t          }\n\t          _context.next = 11;\n\t          break;\n\t\n\t        case 8:\n\t          _context.prev = 8;\n\t          _context.t0 = _context['catch'](0);\n\t\n\t          self.haserro(_context.t0);\n\t\n\t        case 11:\n\t        case 'end':\n\t          return _context.stop();\n\t      }\n\t    }\n\t  }, checkBillSateGen, this, [[0, 8]]);\n\t});\n\texports.default = {\n\t  title: '扫描二维码',\n\t  data: function data() {\n\t    return {\n\t      needback: false,\n\t      hideHead: false,\n\t      isout: false,\n\t      qrsrc: '',\n\t      iserro: false,\n\t      second: 105,\n\t      countDown: 121\n\t    };\n\t  },\n\t\n\t  props: ['userInfo', 'cardInfo', 'stair'],\n\t  methods: {\n\t    isback: function isback() {\n\t      var _this = this;\n\t\n\t      this.$showMessage('交易进行中是否确认返回？(已支付请选择\\'取消\\')', ['confirm', 'cancel']).then(function (res) {\n\t        if (res === 'confirm') {\n\t          window.clearInterval(checkValObj);\n\t          window.clearInterval(InterValObj);\n\t          _this.$back('tochoose');\n\t        }\n\t      });\n\t    },\n\t    haserro: function haserro(erro) {\n\t      this.iserro = true;\n\t      this.$showAlert('网络错误', 'info', 5000);\n\t    },\n\t    back: function back(msg) {\n\t      if (msg === 'tomain') {\n\t        this.$back(msg);\n\t      }\n\t    },\n\t    istomain: function istomain() {\n\t      var _this2 = this;\n\t\n\t      this.$showMessage('交易进行中是否确认退出？(已支付请选择\\'取消\\')', ['confirm', 'cancel']).then(function (res) {\n\t        if (res === 'confirm') {\n\t          window.clearInterval(checkValObj);\n\t          window.clearInterval(InterValObj);\n\t          _this2.$back('tomain');\n\t        }\n\t      });\n\t    },\n\t    checkbillstate: function checkbillstate() {\n\t      var gen = checkBillSateGen(this);\n\t      return (0, _co2.default)(gen);\n\t    },\n\t    outOfPage: function outOfPage() {\n\t      if (this.countDown > 26) {\n\t        if (this.second != 0) {\n\t          --this.second;\n\t        }\n\t        --this.countDown;\n\t        this.isout = false;\n\t      } else if (this.countDown > 0) {\n\t        --this.countDown;\n\t        this.isout = true;\n\t        this.qrsrc = __webpack_require__(99);\n\t        this.needback = true;\n\t        window.clearInterval(checkValObj);\n\t        window.clearInterval(InterValObj);\n\t        this.$back('tomain');\n\t      } else {\n\t        window.clearInterval(checkValObj);\n\t        window.clearInterval(InterValObj);\n\t        if (this.iserro) {\n\t          this.$back('checkbillerror');\n\t        } else {\n\t          this.$back('timeout');\n\t        }\n\t      }\n\t    }\n\t  },\n\t  ready: function ready() {\n\t    var url = encodeURIComponent(this.stair.url);\n\t    this.qrsrc = _vue2.default.ProxyUrl + '/rs/pay/paintCode?url=' + url;\n\t    InterValObj = window.setInterval(this.outOfPage, 1000);\n\t\n\t    checkValObj = window.setInterval(this.checkbillstate, 5000);\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 925:\n/***/ (function(module, exports) {\n\n\tmodule.exports = \" <div> <div class=scanppanel> <div class=mhead v-if=!hideHead> <ul> <li> <text>自助缴费机</text> </li> </ul> </div> <div class=body> <div class=timeout> <ul> <li> <a class=noti>请使用<span>{{payinfo.payway}}</span>扫码支付</a> <a class=timecount v-if=!isout>支付倒计时：<span>{{second}}秒</span></a> <a class=timecount v-if=isout>订单关闭,刷新数据...<span>{{countDown}}秒</span></a> </li> </ul> </div> <div class=qrcode> <div class=qrpanel> <img class=qrpic :src=qrsrc> </div> </div> <div class=notice> <span>注意：请在规定时间内完成支付，支付完成请等待程序自动执行，如支付超时、失败或需要更换支付方式，请返回重新下单支付</span> </div> </div> <div class=foot style=\\\"margin-top: -5%\\\" v-if=needback @click=\\\"back('tomain')\\\"> <text>返回</text> </div> </div> </div> \";\n\n/***/ }),\n\n/***/ 1049:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\tvar __vue_styles__ = {}\n\t__vue_script__ = __webpack_require__(476)\n\t__vue_template__ = __webpack_require__(925)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\n\tif (__vue_template__) {\n\t__vue_options__.template = __vue_template__\n\t}\n\tif (!__vue_options__.computed) __vue_options__.computed = {}\n\tObject.keys(__vue_styles__).forEach(function (key) {\n\tvar module = __vue_styles__[key]\n\t__vue_options__.computed[key] = function () { return module }\n\t})\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 8.js","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAOb0lEQVR4Xu2dUXLUuBaGJWI/E1YwcVXLr4QVDFnBZFYArGDCCi6zAjIrIFnBcFdAWAHh1e6qJisgee6Gc0tcd1UT0m5JRz6S239X5U3SOfqPPh1JthWt8IMCUGCrAhraQAEosF0BAILRAQV6FAAgGB5QAIBgDECBMAWQQcJ0Q62JKABAJhJodDNMAQASphtqTUQBADKRQKObYQoAkDDdUGsiCgCQiQQa3QxTAICE6YZaE1EgOiCLxeJwtVo93Uf9iqL4XFXV7RB929RNys4Q/UjZZlEUN1VVfYnpQzRAugC/U0qdxnQww7bOi6L4OxYoVrflcvlWa/1ys69EdFGW5euYdlar1X+UUmcZahrTpauiKF7FAiUKIIvF4mi1Wn1SSh3G7GmubRHRdV3Xz7j+dXB80FofP9SWtVOW5UkMSJqm+bTNDrcfGda/LYriWQxIogDStu0HpdTzDIUa0qW/jTFvOAbm8/k5Ef3V14bW+p/ZbMaa9du2tX7a7DGl35Ux5oTbYTYgTdMca61t9pja79YY84TT6bZtyaW+MYYVp7Ztv04lu99bpj6r6/raReNtZVjC20bbtrWz21uOEyOue2KMuQrxv21bm3Ft5nX5Sdlx8WVMZV4bY845DscAZIrpe6251MCVssMZSznWZS+DAQgvrFIDV8oOT438agOQxDGRGrhSdhLLGd08AIkuqV+DUgNXyo5f7/MvDUASx0hq4ErZSSxndPPjAoSIPmutB3lVI6K0R0qp3xzbkxq4UnZulFJRX9Vw1NG5GBEdaq1dX2UaFyBKqeBAOyvILOj5UC24P5ke87IHFFP+ndU9dWP3R/oUK3hA7VQuUgEAwns7IFIYtjYDQIZWeEf7AASAbA4RZJB7wAAQAAJAerIIAAEgACQDQLrvZ+xLhDt/RVE8CX3lXXrNvrMzzALS/cESK9ESy5ptmuZCa/2ib8wQ0WVd1z99TOUzxqQHlI9vIWWl+wNAEgLSfWhmX8d+vGWw3BVFcRSaPWyb0gMqZND71JHuDwBJCEiXRezXhDaT/PTwyz5UVUq95H7PID2gfAZ7SFnp/gCQxICszc/n81Mi+vHprdb6ejabvQ8ZQPfrSA+oGD73tSHdHwCSCSBDDSzpATVUP9btSvcHgACQTQXYr2YAkP0fUD5fSI7h1RmfT3sByL3xjQyy/8ADEEZaAyAABEusHoAACAABIADEPcdKvYu16dF8Pn/x/fv3s/XNh/ZGxUePHp3PZrNLd88fLil96sP1d1d96f4ggyTOIE3TvLt/L+/aJXs/b13Xr3YNmpyeG3B8dakLQFxUGrCMZAZxtMU6WZIeUAOG5kfT0v1BBkmYQRyvBGVdcSo9oABIwgE1tPjdDCXyHMRn4BJR8B2zPnaUUqxsJRQf0WNrZJBEwHsO3OAHkp52AMi98QBAAAiOeXHM6578HTfO6walZnYpO8ggyCD9sAAQfJO+OUKwxMISC0ssLLGwxHJUAEssLLGwxOpRAIAAEAACQBzzqf382b3owyWlNrVcP13rS/XH8/kETrG6AHrqxs6IAASbdGzSsUl3zR8/XobL7lUTzr+NkJ5x3ZUOKyndH2QQZBBkEGQQ99kKGQQPCvGgsIcXAAJAAAgA2aYA+9THPVeHlcQeJEy3aLWQQZBBkEGQQZBBHKdUnGLhFAunWDjFcpwu/n8pAJ6DuMslXhJ7EHHJfzYIQLAHwR4EexDsQRwnYuxBsAfBHiSXPYi9UlNrfesIb5JiRHSktT5yNC71lq2IHSL6orX+4tj3JMWI6HB9RauDA+znOtIZxKFPoyoiMnAFX1YclfgOzgIQB5GGLAJAhlSX3zYA4WvIagGAsOQbvDIAGVzifgMAJHEAdpgHIInjA0ASBwCA5B0AAJJ3fF4bY845LrJPsZqmOdZaf+I4MdK6d8aYw1DfPV+ZCAbR+te2rT1afxzq61jrcW7FX/eZDUgXgCul1O9jFTLQb9b6VhgQn/fLAuXIrtpHY4z9VwmsXxRAFovF0Wq1up7KLEVEn8uyfF5VVfBDT0lAFovF4XK5vNJaP2WNlvFUviuK4riqKvZDzyiAWN26pZZd7+11JiGiy7IszzhwdFnX5x/BsJZY1l4HybnW+sV4xnmQpx+J6Kyuazths3/RAFl70mUT11c12B2QbKAoii8xZqUUgCA+YSMlOiBhbkyvluQSa3rqxusxAImnpVdLAMRLrmSFAUgi6QFIIuE9zQIQT8FiFQcgsZQcth0AMqy+W1sHIImE9zQLQDwFi1UcgMRScth2AMiw+iKDJNI3llkAEktJz3aQQTwFS1QcgCQSHoAkEt7TLADxFCxWcQASS8lh2wEgw+qLPUgifWOZBSCxlPRsBxnEU7BExQFIIuEBSCLhPc0CEE/BYhUHILGUHLYdADKsvtiDJNI3ltmogNiPcr59+/aHvb7T1UF71eXBwcF/fT9Aatv2D6XUsaud3Mp1V5y+dPSL/cHU2s58Pn/hEx9H/7IoRkS3ZVle+o6lPuejAdI0zUut9VullPdFBvZOWKXUny5fgXVfxn3wuJ81i+AxnWADYr/4VEr963HvMNPlZNVvieh1XdcXMTyIAojnenqb37ZjJ32QTBQOqxcLkO4rT3vzjPfkFWOQpWhDa/3nbDZ7z7UdBZCmaRaRZqYrY8zJtk55/nMbrjY51WcB0jTNxQS+Rf8pXnZVUtd1xQ0iG5D5fH5KRP9yHVnX77vLKCKIsdyVaicYEJt1V6vVVylHM7MTrNu6H2xAYs/qfamxbVvKLABS7gQHOtLyV6qfse2w7i6zzgCQ2CEZpj0AEqZrFoD43O+0s5t9S6y2be1p1287G9mzAkVRPAk9usQSy9hbP4N/7AxiLUccuL3XRcZezgWrJluRfYXmFDfpSqkbY4zz87htIY0FSIwsckdEzx2OeSd1heYuTVxYndrVsJ0mwcvSTU2jAGIb7B4U2qtHQ24RvyGiU9cHhavVyp5v7/UVp3YGdNXEBZLualir274vUe1Ea68ezedB4TpA3YO8U59nIva8uizL975r7O54ebSvmvQN6lBNHEGxbzywlx4utqTLDKFbtAwiLQbsQQEJBQCIhMqwMVoFAMhoQwfHJRQAIBIqw8ZoFQAgow0dHJdQAIBIqAwbo1UAgIw2dHBcQgEAIqEybIxWAQAy2tDBcQkFAIiEyrAxWgUAyGhDB8clFAAgEirDxmgVACCjDR0cl1AAgEioDBujVQCAjDZ0cFxCgeiAdB/mhHw0JdFflo2iKG6qqrLfxUf/dV/9/fiYScpO9E5EanDI/vu6GA2QDgx79aj9/HZvf0R0UZbla98PvLYJ0l2q8E4pdXqvzPuiKF7FtLNcLt9qrV3vA04dw6j9D+1MFECmdrUlEV2XZXnCHby7rlKVshM6eIauF6v/HD+jANK27Yd9zxwPiMy+c8nlthEiuqzrmjXrj/k2mBj9TwpIt7SyFyNP7XdrjHkS2mmf+6qMMayJrG1be/XoaC+u5twLFhqfdT2W8LaRMc9OXPE4t657XgkafIWNp50IkgzSRHD/ud4AEJ6CwYHzHLhSdnhqDFc7uP9clwAIT8HgwAEQL+GDdfay8kBhAMJTMDhwAMRL+GCdvawAEK5cv9QPDhwA8YpFsM5eVgAIVy4AEl1BtwanAQgRfdZa37ppkqyUvZbT9f7a4MBlmkFulFKDvEpzP5pEdKi1fuoY5WCdHdvfWkx6D5Kso65CeR5bB/cnU0DYDz89dPb5jwDBOrv6s60cALmnDAAxb7iDyqW+1ATh4ktfGQACQDYVQAa5Nx4ACAABID0pBIAAEAACQNxXotiDYA+yOVqQQZBBkEGQQZBBHBXAJh2b9P6hgiUWllhYYvUwAkAACAABINsUwBILSywssXoUACAABIAAEMcjC6UUjnlxzItjXhzzus8Y2KRjk45NOjbp2KQ7zplYYmGJhSUWlliO04X/PV/BH/JIfQ/haQenWDjFwikWTrHcJ0wssbDEwhILSyz3GQOnWDjFwikWTrFwiuU4Z2KJhSUWllhYYjlOFzjFwikWTrFwioVTLPcJE0ssLLGwxMISy33GwCkWTrFwioVTLJxiOc6ZWGJhibWpwJVSyv4N/iOiI49/SR38Sg+3IwAEgHDHkER9ACKhsouNie9BXCRKUQaApFD9IZsAJJdI/OQHAMklLAAkl0gAkCwjAUCyDAsySC5hASC5RAIZJMtI7Bsgi8XicLVafc1SbEeniqKoqqoS+d+J913CMe+eH/Pa7jVNc6G1fuE4HnMr9tEYY/+fYZIfAJkAIF0WsTPw4ySjLNzoHRE9r+v6OrwJXk0AMgFAuixyrJSymcT1Xy/zRha/9g0RnaaEw3YBgEwEkHU35/P5KRFZWLL9aa2vZ7PZ+xwcBCATAySHQTcmHwAIABnTeBX3FYAAEPFBNyaDooAQ0bXW+jZngbrXsI8cfQx+wut542GwHcd+oNgWBUQB2cMoBA9cADKO0QBAeHECIDz9sq8NQHghAiA8/bKvDUB4IQIgPP2yrw1AeCECIDz9sq8dA5AzpdTb7Hs6jIMAZBhds2mVDUjTNMda60/Z9EjOkTtjzCHHXNu25FLfGMOOk4sdlPlVgSjCt21rr4r5fWICs++xnc/n50T0V59uWut/ZrOZzdL4JVAgCiAjfp06SHIi+lzXNfuFP6vbcrm82vaGrbVTluXzqqqyfrgaJOJIKkUBxPa1C/b5iD/McQqZndEPDg7exBq023QjosuyLM9i2XHqHAr9okA0QNYtd9mEPbvmGKuiKK6HGrCbug1pJ0ddc/YpOiA5dxa+QQFfBQCIr2IoPykFAMikwo3O+ioAQHwVQ/lJKQBAJhVudNZXAQDiqxjKT0oBADKpcKOzvgoAEF/FUH5SCgCQSYUbnfVVAID4Kobyk1IAgEwq3OisrwIAxFcxlJ+UAv8DYWXifXa2mpwAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/image/qrcode_no.png\n// module id = 99\n// module chunks = 1 2 8","<template>\n  <div>\n    <div class=\"scanppanel\">\n      <div class=\"mhead\" v-if=\"!hideHead\">\n        <ul>\n          <li>\n            <text>自助缴费机</text>\n          </li>\n        </ul>\n      </div>\n      <div class=\"body\">\n        <div class=\"timeout\">\n          <ul>\n            <li>\n              <a class=\"noti\">请使用<span>{{payinfo.payway}}</span>扫码支付</a>\n              <a class=\"timecount\" v-if=\"!isout\">支付倒计时：<span>{{second}}秒</span></a>\n              <a class=\"timecount\" v-if=\"isout\">订单关闭,刷新数据...<span>{{countDown}}秒</span></a>\n            </li>\n          </ul>\n        </div>\n        <div class=\"qrcode\">\n\n          <div class=\"qrpanel\">\n            <img class=\"qrpic\" :src=\"qrsrc\" >\n          </div>\n        </div>\n        <div class=\"notice\">\n          <span>注意：请在规定时间内完成支付，支付完成请等待程序自动执行，如支付超时、失败或需要更换支付方式，请返回重新下单支付</span>\n        </div>\n      </div>\n      <div class=\"foot\" style=\"margin-top: -5%;\" v-if=\"needback\" @click=\"back('tomain')\">\n        <text>返回</text>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  import co from 'co'\n  import Vue from 'vue'\n  let InterValObj\n  let checkValObj\n  let checkBillSateGen = function * (self) {\n    try {\n      let condition = 'f_serial_id = \\'' + self.stair.f_serial_id + '\\' and f_userinfo_id = \\'' + self.userInfo.f_userinfo_id + '\\' and f_charge_state = \\'有效\\''\n      let ret = yield self.$resetpost(Vue.ProxyUrl + '/rs/sql/pos_singleTable_OrderBy', {data: {items: '*', tablename: 't_sellinggas', condition: condition, orderitem: 'f_delivery_date'}}, {resolveMsg: null, rejectMsg: null})\n      if (ret.data.length === 1) {\n        window.clearInterval(checkValObj)\n        window.clearInterval(InterValObj) // 停止计时器\n        self.stair.id = ret.data[0].id\n        self.stair.f_operator = ret.data[0].f_operator\n        self.stair.f_outlets = ret.data[0].f_outlets\n        console.log(\"停止定时器去写卡self.stair\", self.stair)\n        // 支付成功\n        self.$goto('write-card',{userInfo:self.userInfo,cardInfo:self.cardInfo,stairPrice:self.stair},'self', self.back)\n      }\n    } catch (ret) {\n      self.haserro(ret)\n    }\n  }\n  export default{\n    title: '扫描二维码',\n    data () {\n      return {\n        needback:false,\n        hideHead:false,\n        isout: false,\n        qrsrc: '',\n        iserro: false,\n        second: 105,\n        countDown: 121\n      }\n    },\n    props: ['userInfo', 'cardInfo', 'stair'],\n    methods: {\n      isback () {\n        this.$showMessage('交易进行中是否确认返回？(已支付请选择\\'取消\\')', ['confirm', 'cancel'])\n          .then((res) => {\n            if (res === 'confirm') {\n              window.clearInterval(checkValObj) // 停止计时器\n              window.clearInterval(InterValObj)\n              this.$back('tochoose')\n            }\n          })\n      },\n      haserro (erro) {\n        this.iserro = true\n        this.$showAlert('网络错误', 'info', 5000)\n      },\n      back (msg) {\n        if (msg === 'tomain') {\n          this.$back(msg)\n        }\n      },\n      istomain () {\n        this.$showMessage('交易进行中是否确认退出？(已支付请选择\\'取消\\')', ['confirm', 'cancel'])\n          .then((res) => {\n            if (res === 'confirm') {\n              window.clearInterval(checkValObj) // 停止计时器\n              window.clearInterval(InterValObj)\n              this.$back('tomain')\n            }\n          })\n      },\n      checkbillstate () {\n        let gen = checkBillSateGen(this)\n        return co(gen)\n      },\n      outOfPage () {\n        if (this.countDown > 26) {\n          if(this.second != 0) {\n            --this.second\n          }\n          --this.countDown\n          this.isout = false\n        } else if (this.countDown > 0) {\n          --this.countDown\n          this.isout = true\n          this.qrsrc = require('../../image/qrcode_no.png')\n          this.needback = true\n          window.clearInterval(checkValObj) // 停止计时器\n          window.clearInterval(InterValObj)\n          this.$back('tomain')\n        } else {\n          window.clearInterval(checkValObj) // 停止计时器\n          window.clearInterval(InterValObj)\n          if (this.iserro) {\n            this.$back('checkbillerror')// 错误，重新读卡\n          } else {\n            this.$back('timeout') // 超时重新购气\n          }\n        }\n      }\n    },\n    ready () {\n      let url = encodeURIComponent(this.stair.url)\n      this.qrsrc = Vue.ProxyUrl + '/rs/pay/paintCode?url=' + url\n      InterValObj = window.setInterval(this.outOfPage, 1000)\n      // 定时器回调\n      checkValObj = window.setInterval(this.checkbillstate, 5000)\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// ScanQrcode.vue?3d4e0358","module.exports = \" <div> <div class=scanppanel> <div class=mhead v-if=!hideHead> <ul> <li> <text>自助缴费机</text> </li> </ul> </div> <div class=body> <div class=timeout> <ul> <li> <a class=noti>请使用<span>{{payinfo.payway}}</span>扫码支付</a> <a class=timecount v-if=!isout>支付倒计时：<span>{{second}}秒</span></a> <a class=timecount v-if=isout>订单关闭,刷新数据...<span>{{countDown}}秒</span></a> </li> </ul> </div> <div class=qrcode> <div class=qrpanel> <img class=qrpic :src=qrsrc> </div> </div> <div class=notice> <span>注意：请在规定时间内完成支付，支付完成请等待程序自动执行，如支付超时、失败或需要更换支付方式，请返回重新下单支付</span> </div> </div> <div class=foot style=\\\"margin-top: -5%\\\" v-if=needback @click=\\\"back('tomain')\\\"> <text>返回</text> </div> </div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/charge/sellgas/ScanQrcode.vue\n// module id = 925\n// module chunks = 8","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!../../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./ScanQrcode.vue\")\n__vue_template__ = require(\"!!vue-html-loader!../../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./ScanQrcode.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/charge/sellgas/ScanQrcode.vue\n// module id = 1049\n// module chunks = 8"],"sourceRoot":""}