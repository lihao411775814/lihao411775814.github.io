{"version":3,"sources":["webpack:///17.js","webpack:///CardSellGas.vue","webpack:///./src/components/charge/sellgas/CardSellGas.vue?0856","webpack:///./src/components/charge/sellgas/CardSellGas.vue"],"names":["webpackJsonp","472","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_assign","_assign2","_regenerator","_regenerator2","_vue","_vue2","_co","_co2","gasCalculate","mark","self","gas","wrap","_context","prev","next","abrupt","$resetpost","ProxyUrl","$PosUtil","posParam","revenue","data","model","stairPrice","isGasValue","resolveMsg","rejectMsg","stop","this","feeCalculate","preamount","_context2","pregasGen","ret","_context3","userInfo","f_isdecimal","f_pregas","Number","toFixed","sent","console","log","f_stair1fee","f_stair2fee","f_stair3fee","stair","f_preamount","chargenum","f_temp_amount","f_balance","f_collection","t0","stack","clearNum","status","$showMessage","iserro","preamountGen","temp","getGas","getAmount","_context4","PosUtil","gasAfterFee","parseInt","title","isguding","hideHead","sInfos","para","isActive","money","f_price_id","f_curbalance","f_delaypay","hand_ids","canbuy","rows","type","props","methods","back","param","$back","verifyCard","f_meter_type","$goto","cardInfo","callBack","readinfo","$AndroidPlugin","read","$closeAlert","gotoComponents","code","msg","CardID","curbalance","maffrim","gasfeecalculate","gen","feecalculateGen","f_collection_type","pregas","f_remain_gas","f_cycle_start","f_cycle_end","limit_gas","fastBuy","nodes","event","currentTarget","i","length","innerText","isReadOnly","substr","orderInfo","computed","watch","stairPrice.f_temp_amount","val","stairPrice.f_preamount","ready","f_user_id","f_price_type","921","1045","__vue_script__","__vue_template__","__vue_styles__","__vue_options__","options","template","keys","forEach","key"],"mappings":"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","file":"17.js","sourcesContent":["webpackJsonp([17],{\n\n/***/ 472:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _assign = __webpack_require__(41);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _regenerator = __webpack_require__(3);\n\t\n\tvar _regenerator2 = _interopRequireDefault(_regenerator);\n\t\n\tvar _vue = __webpack_require__(2);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _co = __webpack_require__(7);\n\t\n\tvar _co2 = _interopRequireDefault(_co);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar gasCalculate = _regenerator2.default.mark(function gasCalculate(self, gas) {\n\t  return _regenerator2.default.wrap(function gasCalculate$(_context) {\n\t    while (1) {\n\t      switch (_context.prev = _context.next) {\n\t        case 0:\n\t          return _context.abrupt('return', self.$resetpost(_vue2.default.ProxyUrl + '/rs/logic/' + self.$PosUtil.posParam.revenue + 'commonCal', { data: { model: self.stairPrice, isGasValue: 0, value: gas } }, { resolveMsg: null, rejectMsg: null }));\n\t\n\t        case 1:\n\t        case 'end':\n\t          return _context.stop();\n\t      }\n\t    }\n\t  }, gasCalculate, this);\n\t});\n\t\n\tvar feeCalculate = _regenerator2.default.mark(function feeCalculate(self, preamount) {\n\t  return _regenerator2.default.wrap(function feeCalculate$(_context2) {\n\t    while (1) {\n\t      switch (_context2.prev = _context2.next) {\n\t        case 0:\n\t          return _context2.abrupt('return', self.$resetpost(_vue2.default.ProxyUrl + '/rs/logic/' + self.$PosUtil.posParam.revenue + 'commonCal', { data: { model: self.stairPrice, isGasValue: 1, value: preamount } }, { resolveMsg: null, rejectMsg: null }));\n\t\n\t        case 1:\n\t        case 'end':\n\t          return _context2.stop();\n\t      }\n\t    }\n\t  }, feeCalculate, this);\n\t});\n\t\n\tvar pregasGen = _regenerator2.default.mark(function pregasGen(self) {\n\t  var ret;\n\t  return _regenerator2.default.wrap(function pregasGen$(_context3) {\n\t    while (1) {\n\t      switch (_context3.prev = _context3.next) {\n\t        case 0:\n\t          if (self.userInfo.f_isdecimal === '是') {\n\t            self.stairPrice.f_pregas = Number((self.stairPrice.f_pregas - 0).toFixed(2));\n\t          } else {\n\t            self.stairPrice.f_pregas = Number((self.stairPrice.f_pregas - 0).toFixed(0));\n\t          }\n\t          _context3.prev = 1;\n\t          _context3.next = 4;\n\t          return (0, _co2.default)(gasCalculate(self, self.stairPrice.f_pregas));\n\t\n\t        case 4:\n\t          ret = _context3.sent;\n\t\n\t          console.log(ret);\n\t          if (ret) {\n\t            ret.data.f_stair1fee = Number(ret.data.f_stair1fee);\n\t            ret.data.f_stair2fee = Number(ret.data.f_stair2fee);\n\t            ret.data.f_stair3fee = Number(ret.data.f_stair3fee);\n\t            self.stair = ret.data;\n\t            self.stairPrice.f_preamount = Number(Number(ret.data.chargenum).toFixed(2));\n\t            (0, _assign2.default)(self.stairPrice, self.stairPrice, ret.data);\n\t            self.stairPrice.f_temp_amount = Number(self.stairPrice.f_preamount - 0 - (self.stairPrice.f_balance - 0));\n\t            self.stairPrice.f_collection = Number(self.stairPrice.f_temp_amount);\n\t          }\n\t          _context3.next = 15;\n\t          break;\n\t\n\t        case 9:\n\t          _context3.prev = 9;\n\t          _context3.t0 = _context3['catch'](1);\n\t\n\t          console.log(_context3.t0.stack);\n\t          self.clearNum();\n\t          if (_context3.t0.status === 404) {\n\t            self.$showMessage('连接后台服务器失败，请重新划价');\n\t          } else if (_context3.t0.status === 501) {\n\t            self.$showMessage(_context3.t0.data + '，请重新划价');\n\t          } else {\n\t            self.$showMessage('划价错误，请重新划价');\n\t          }\n\t          self.iserro = true;\n\t\n\t        case 15:\n\t        case 'end':\n\t          return _context3.stop();\n\t      }\n\t    }\n\t  }, pregasGen, this, [[1, 9]]);\n\t});\n\t\n\tvar preamountGen = _regenerator2.default.mark(function preamountGen(self) {\n\t  var f_temp_amount, temp, getGas, getAmount;\n\t  return _regenerator2.default.wrap(function preamountGen$(_context4) {\n\t    while (1) {\n\t      switch (_context4.prev = _context4.next) {\n\t        case 0:\n\t          _context4.prev = 0;\n\t          f_temp_amount = 0;\n\t\n\t          if (!self.stairPrice.f_temp_amount) {\n\t            f_temp_amount = 0;\n\t          } else {\n\t            f_temp_amount = self.stairPrice.f_temp_amount;\n\t          }\n\t          temp = f_temp_amount - 0 + (self.userInfo.f_balance - 0);\n\t          _context4.next = 6;\n\t          return (0, _co2.default)(feeCalculate(self, temp));\n\t\n\t        case 6:\n\t          getGas = _context4.sent;\n\t          getAmount = null;\n\t\n\t          if (!_vue2.default.PosUtil.posParam.gasAfterFee) {\n\t            _context4.next = 33;\n\t            break;\n\t          }\n\t\n\t          if (!getGas.data.gas) {\n\t            _context4.next = 31;\n\t            break;\n\t          }\n\t\n\t          if (!(self.userInfo.f_isdecimal === '是')) {\n\t            _context4.next = 22;\n\t            break;\n\t          }\n\t\n\t          self.stairPrice.f_pregas = (getGas.data.gas - 0).toFixed(2);\n\t          _context4.next = 14;\n\t          return (0, _co2.default)(gasCalculate(self, getGas.data.gas));\n\t\n\t        case 14:\n\t          getAmount = _context4.sent;\n\t\n\t          getAmount.data.f_stair1fee = Number(getAmount.data.f_stair1fee);\n\t          getAmount.data.f_stair2fee = Number(getAmount.data.f_stair2fee);\n\t          getAmount.data.f_stair3fee = Number(getAmount.data.f_stair3fee);\n\t          getAmount.data.chargenum = Number(getAmount.data.chargenum);\n\t          self.stairPrice.f_preamount = Number((getAmount.data.chargenum - 0).toFixed(2));\n\t          _context4.next = 31;\n\t          break;\n\t\n\t        case 22:\n\t          self.stairPrice.f_pregas = parseInt(getGas.data.gas - 0);\n\t          _context4.next = 25;\n\t          return (0, _co2.default)(gasCalculate(self, self.stairPrice.f_pregas));\n\t\n\t        case 25:\n\t          getAmount = _context4.sent;\n\t\n\t          getAmount.data.f_stair1fee = Number(getAmount.data.f_stair1fee);\n\t          getAmount.data.f_stair2fee = Number(getAmount.data.f_stair2fee);\n\t          getAmount.data.f_stair3fee = Number(getAmount.data.f_stair3fee);\n\t          getAmount.data.chargenum = Number(getAmount.data.chargenum);\n\t          self.stairPrice.f_preamount = Number(getAmount.data.chargenum.toFixed(2));\n\t\n\t        case 31:\n\t          _context4.next = 36;\n\t          break;\n\t\n\t        case 33:\n\t          getAmount = getGas;\n\t          self.stairPrice.f_pregas = (getGas.data.gas - 0).toFixed(2);\n\t          self.stairPrice.f_preamount = Number(getAmount.data.chargenum.toFixed(2));\n\t\n\t        case 36:\n\t          self.stair = getAmount.data;\n\t          (0, _assign2.default)(self.stairPrice, self.stairPrice, getAmount.data);\n\t          self.stairPrice.f_collection = Number(self.stairPrice.f_temp_amount);\n\t          self.iserro = false;\n\t          _context4.next = 48;\n\t          break;\n\t\n\t        case 42:\n\t          _context4.prev = 42;\n\t          _context4.t0 = _context4['catch'](0);\n\t\n\t          self.clearNum();\n\t          console.log();\n\t          if (_context4.t0.status === 404) {\n\t            self.$showMessage('连接后台服务器失败，请重新划价或联系管理人员');\n\t          } else if (_context4.t0.status === 501) {\n\t            self.$showMessage(_context4.t0.data + '，请重新划价或联系管理人员');\n\t          } else {\n\t            self.$showMessage('划价错误，请重新划价或联系管理人员');\n\t          }\n\t          console.log(_context4.t0);\n\t\n\t        case 48:\n\t        case 'end':\n\t          return _context4.stop();\n\t      }\n\t    }\n\t  }, preamountGen, this, [[0, 42]]);\n\t});\n\texports.default = {\n\t  title: '划价',\n\t  data: function data() {\n\t    return {\n\t      isguding: false,\n\t      hideHead: false,\n\t      sInfos: {\n\t        gas: [{ 'para': '40方', isActive: false }, { 'para': '60方', isActive: false }, { 'para': '80方', isActive: false }, { 'para': '100方', isActive: false }, { 'para': '150方', isActive: false }, { 'para': '200方', isActive: false }, { 'para': '其他', isActive: false }],\n\t        money: [{ 'para': '50元', isActive: false }, { 'para': '100元', isActive: false }, { 'para': '150元', isActive: false }, { 'para': '200元', isActive: false }, { 'para': '250元', isActive: false }, { 'para': '300元', isActive: false }]\n\t      },\n\t      stairPrice: {\n\t        f_preamount: 0,\n\t        f_pregas: 0,\n\t        f_price_id: 0,\n\t        f_balance: 0,\n\t        f_curbalance: 0,\n\t        f_temp_amount: 0,\n\t        f_collection: 0,\n\t        f_delaypay: 0,\n\t        hand_ids: []\n\t      },\n\t      canbuy: false,\n\t      rows: [],\n\t      type: '',\n\t      stair: {\n\t        f_stair1fee: 0,\n\t        f_stair2fee: 0,\n\t        f_stair3fee: 0\n\t      }\n\t    };\n\t  },\n\t\n\t  props: ['userInfo', 'cardInfo', 'stairPrices'],\n\t  methods: {\n\t    back: function back(param) {\n\t      if (param === 'tosell') {\n\t        return;\n\t      } else {\n\t        this.$back(param);\n\t      }\n\t    },\n\t    verifyCard: function verifyCard() {\n\t      if (this.userInfo.f_meter_type !== '物联网表') {\n\t        this.$goto('choose-pay-way', { userInfo: this.userInfo, cardInfo: this.cardInfo, stairPrice: this.stairPrice }, 'self', this.callBack);\n\t      }\n\t      var readinfo = this.$AndroidPlugin.read();\n\t      this.$closeAlert();\n\t      this.gotoComponents(readinfo);\n\t    },\n\t    gotoComponents: function gotoComponents(readinfo) {\n\t      if (readinfo.code === 200 && readinfo.msg.CardID === this.cardInfo.CardID) {\n\t        this.stairPrice.f_curbalance = Number(this.curbalance).toFixed(2);\n\t        this.$goto('choose-pay-way', { userInfo: this.userInfo, cardInfo: this.cardInfo, stairPrice: this.stairPrice }, 'self', this.callBack);\n\t      } else {\n\t        this.$back('卡号不一致，请重新读卡购气！');\n\t      }\n\t    },\n\t    maffrim: function maffrim() {\n\t      this.verifyCard();\n\t    },\n\t    gasfeecalculate: function gasfeecalculate() {\n\t      var gen = feecalculateGen(this);\n\t      return (0, _co2.default)(gen);\n\t    },\n\t    clearNum: function clearNum() {\n\t      this.stairPrice.f_temp_amount = this.userInfo.f_collection_type === '按金额' ? null : 0;\n\t      this.stairPrice.f_pregas = this.userInfo.f_collection_type === '按金额' ? 0 : null;\n\t      this.stairPrice.f_preamount = 0;\n\t      this.stairPrice.f_collection = 0;\n\t      this.stair = {};\n\t    },\n\t    pregas: function pregas() {\n\t      if (this.userInfo.f_collection_type !== '按金额') {\n\t        if (this.stairPrice.f_pregas && this.stairPrice.f_pregas > 0) {\n\t          if (this.stairPrice.f_pregas > this.userInfo.f_remain_gas) {\n\t            this.$showMessage(this.userInfo.f_cycle_start + '至' + this.userInfo.f_cycle_end + '限购气量为' + this.userInfo.limit_gas + '方，剩余可购气量为' + this.userInfo.f_remain_gas + '方，请重新选择购气量且不要大于' + this.userInfo.f_remain_gas + '方');\n\t            this.clearNum();\n\t            return;\n\t          }\n\t          (0, _co2.default)(pregasGen(this));\n\t        }\n\t      }\n\t    },\n\t    preamount: function preamount() {\n\t      if (this.userInfo.f_collection_type === '按金额') {\n\t        if (this.stairPrice.f_temp_amount && this.stairPrice.f_temp_amount > 0) {\n\t          this.stairPrice.f_temp_amount = (this.stairPrice.f_temp_amount - 0).toFixed(2);\n\t          (0, _co2.default)(preamountGen(this));\n\t        } else {\n\t          this.clearNum();\n\t        }\n\t      }\n\t    },\n\t    fastBuy: function fastBuy() {\n\t      var nodes = event.currentTarget;\n\t      console.log(\"nodes\", nodes);\n\t      console.log(\"this.rows\", this.rows);\n\t      for (var i = 0; i < this.rows.length; i++) {\n\t        this.rows[i].isActive = false;\n\t        if (this.rows[i].para === nodes.innerText) {\n\t          this.rows[i].isActive = true;\n\t        }\n\t      }\n\t      if (nodes.innerText !== '其他') {\n\t        this.isReadOnly = true;\n\t        if (this.userInfo.f_collection_type === '按金额') {\n\t          this.stairPrice.f_temp_amount = parseInt(nodes.innerText.substr(0, nodes.innerText.length - 1));\n\t          this.preamount();\n\t        } else {\n\t          this.stairPrice.f_pregas = parseInt(nodes.innerText.substr(0, nodes.innerText.length - 1));\n\t          this.pregas();\n\t        }\n\t      } else {\n\t        this.isReadOnly = false;\n\t        this.clearNum();\n\t      }\n\t    },\n\t    callBack: function callBack(orderInfo) {\n\t      if (orderInfo === 'getbillerro') {\n\t        this.$showMessage('下单失败，请重新确认订单！');\n\t      } else if (orderInfo === 'timeout') {\n\t        this.$showMessage('未查询到支付记录请重新确认订单！（已支付用户请等待自动退款再重新购气，如未退款请联系工作人员）');\n\t      } else if (orderInfo === 'checkbillerro') {\n\t        this.$showMessage('查询支付情况失败，请重新下单支付!（如已支付请到营业厅办理）');\n\t      } else {\n\t        this.back(orderInfo);\n\t      }\n\t    }\n\t  },\n\t  computed: {\n\t    'curbalance': function curbalance() {\n\t      if (this.stairPrice.f_preamount !== '' && this.stairPrice.f_temp_amount !== '') {\n\t        if (this.userInfo.f_collection_type === '按金额') {\n\t          return (this.stairPrice.f_collection - 0 + (this.stairPrice.f_balance - 0) - (this.stairPrice.f_preamount - 0)).toFixed(2);\n\t        } else {\n\t          return (this.stairPrice.f_collection - 0 - (this.stairPrice.f_temp_amount - 0)).toFixed(2);\n\t        }\n\t      } else {\n\t        return 0;\n\t      }\n\t    }\n\t  },\n\t  watch: {\n\t    'stairPrice.f_temp_amount': function stairPriceF_temp_amount(val) {\n\t      if (this.stairPrice.f_temp_amount && this.stairPrice.f_preamount > 0) {\n\t        this.canbuy = true;\n\t      } else {\n\t        this.canbuy = false;\n\t      }\n\t    },\n\t    'stairPrice.f_preamount': function stairPriceF_preamount(val) {\n\t      if (val > 0 && this.stairPrice.f_temp_amount) {\n\t        this.canbuy = true;\n\t      } else {\n\t        this.canbuy = false;\n\t      }\n\t    }\n\t  },\n\t  ready: function ready() {\n\t    console.log('进入购气划价界面');\n\t    console.log('userinfo和cardinfo', this.userInfo, this.cardInfo);\n\t\n\t\n\t    this.stairPrice.f_price_id = this.userInfo.f_price_id;\n\t    this.stairPrice.f_user_id = this.userInfo.f_user_id;\n\t    this.stairPrice.f_meter_type = this.userInfo.f_meter_type;\n\t    this.stairPrice.f_balance = this.userInfo.f_balance;\n\t    console.log('this.userInfo.f_collection_type', this.userInfo.f_collection_type);\n\t    if (this.userInfo.f_collection_type === '按金额') {\n\t      this.type = '金额';\n\t      this.rows = this.sInfos.money;\n\t    } else {\n\t      this.type = '气量';\n\t      this.rows = this.sInfos.gas;\n\t    }\n\t    if (this.userInfo.f_price_type === '阶梯气价') {\n\t      this.isguding = false;\n\t    } else if (this.userInfo.f_price_type === '固定气价') {\n\t      this.isguding = true;\n\t    }\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 921:\n/***/ (function(module, exports) {\n\n\tmodule.exports = \" <div> <div class=cardsellgas> <div class=mhead v-if=!hideHead> <ul> <li> <text>购气写卡</text> </li> </ul> </div> <div class=body> <div class=selectview> <h5>请选择购气{{type}} </h5> <ul class=selectbuy1 v-for=\\\"row in rows\\\"> <li><a href=# v-bind:class=\\\"{ getfocus: row.isActive }\\\" @click=fastBuy()><span>{{row.para}}</span></a></li> </ul> </div> <table class=tabprice> <tr> <td class=lab>预购金额：</td> <td><input type=number v-model=stairPrice.f_preamount readonly=readonly /></td> <td class=lab align=right>预购气量：</td> <td><input type=number v-model=stairPrice.f_pregas @blur=pregas() placeholder=请输入气量 :readonly=\\\"userInfo.f_collection_type === '按金额'||isReadOnly\\\"/></td> <td class=lab align=right>本次缴费：</td> <td><input type=number v-model=stairPrice.f_temp_amount @blur=preamount() placeholder=请输入金额 :readonly=\\\"userInfo.f_collection_type !== '按金额'||isReadOnly\\\"/></td> </tr> </table> <div class=stairview> <guding-price v-if=isguding :stair=stair> </guding-price> <jieti-price v-if=!isguding :stair=stair> </jieti-price> </div> <div class=buybtn style=\\\"margin-top: -10%\\\"> <button type=button class=\\\"btn btn-success\\\" @click=maffrim() :disabled=!canbuy> 确认订单 </button> </div> </div> </div> <div class=foot style=\\\"margin-top: -18%\\\" @click=\\\"back('tomain')\\\"> <text>返回</text> </div> </div> \";\n\n/***/ }),\n\n/***/ 1045:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\tvar __vue_styles__ = {}\n\t__vue_script__ = __webpack_require__(472)\n\t__vue_template__ = __webpack_require__(921)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\n\tif (__vue_template__) {\n\t__vue_options__.template = __vue_template__\n\t}\n\tif (!__vue_options__.computed) __vue_options__.computed = {}\n\tObject.keys(__vue_styles__).forEach(function (key) {\n\tvar module = __vue_styles__[key]\n\t__vue_options__.computed[key] = function () { return module }\n\t})\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 17.js","<template>\n  <div>\n    <div class=\"cardsellgas\">\n      <div class=\"mhead\" v-if=\"!hideHead\">\n        <ul>\n          <li>\n            <text>购气写卡</text>\n          </li>\n        </ul>\n      </div>\n      <div class=\"body\">\n        <div  class=\"selectview\" >\n          <h5>请选择购气{{type}} </h5>\n          <ul class=\"selectbuy1\" v-for=\"row in rows\" >\n            <li><a href=\"#\" v-bind:class=\"{ getfocus: row.isActive }\"  @click=\"fastBuy()\" ><span>{{row.para}}</span></a></li>\n          </ul>\n        </div>\n        <table  class=\"tabprice\" >\n          <tr>\n            <td class=\"lab\">预购金额：</td>\n            <td  ><input type=\"number\" v-model=\"stairPrice.f_preamount\"  readonly/></td>\n            <td  class=\"lab\" align=\"right\">预购气量：</td>\n            <td  ><input type=\"number\" v-model=\"stairPrice.f_pregas\"\n                         @blur=\"pregas()\" placeholder=\"请输入气量\" :readonly=\"userInfo.f_collection_type === '按金额'||isReadOnly\"/></td>\n            <td  class=\"lab\"  align=\"right\">本次缴费：</td>\n            <td ><input type=\"number\" v-model=\"stairPrice.f_temp_amount\"\n                        @blur=\"preamount()\" placeholder=\"请输入金额\" :readonly=\"userInfo.f_collection_type !== '按金额'||isReadOnly\"/></td>\n          </tr>\n        </table>\n        <div  class=\"stairview\">\n          <guding-price  v-if=\"isguding\" :stair=\"stair\"> </guding-price>\n          <jieti-price  v-if=\"!isguding\" :stair=\"stair\"> </jieti-price>\n        </div>\n        <div class=\"buybtn\" style=\"margin-top: -10%;\">\n          <button  type=\"button\" class=\"btn  btn-success\"  @click=\"maffrim()\"  :disabled=\"!canbuy\"> 确认订单 </button>\n        </div>\n      </div>\n    </div>\n    <div class=\"foot\" style=\"margin-top: -18%;\" @click=\"back('tomain')\">\n      <text>返回</text>\n    </div>\n    <!--<choose-pay-way v-if=\"isaffrimed\" :userinfo=\"userinfo\" :cardinfo=\"cardinfo\" :stair=\"stair\" :payinfo=\"payinfo\"></choose-pay-way>-->\n  </div>\n</template>\n<script>\n\nimport Vue from 'vue'\nimport co from 'co'\n\nlet gasCalculate = function* (self, gas) {    //气量划价\n  return self.$resetpost(Vue.ProxyUrl + '/rs/logic/'+self.$PosUtil.posParam.revenue+'commonCal', {data: {model: self.stairPrice, isGasValue: 0, value: gas}}, {resolveMsg: null, rejectMsg: null})\n}\n\nlet feeCalculate = function* (self, preamount) {    //金额划价\n  return self.$resetpost(Vue.ProxyUrl + '/rs/logic/'+self.$PosUtil.posParam.revenue+'commonCal', {data: {model: self.stairPrice, isGasValue: 1, value: preamount}}, {resolveMsg: null, rejectMsg: null})\n}\n\nlet pregasGen = function* (self) {\n  if (self.userInfo.f_isdecimal === '是') {\n    // console.log(self.stairPrice.f_pregas)\n    self.stairPrice.f_pregas = Number((self.stairPrice.f_pregas - 0).toFixed(2))\n  } else {\n    self.stairPrice.f_pregas = Number((self.stairPrice.f_pregas - 0).toFixed(0))\n  }\n  try {\n    let ret = yield co(gasCalculate(self, self.stairPrice.f_pregas))\n    console.log(ret)\n    if (ret) {\n      //返回值为字符串可能导致显示错误以及划价错误，保持这些值的转换。请勿删除\n      ret.data.f_stair1fee = Number(ret.data.f_stair1fee)\n      ret.data.f_stair2fee = Number(ret.data.f_stair2fee)\n      ret.data.f_stair3fee = Number(ret.data.f_stair3fee)\n      self.stair = ret.data\n      self.stairPrice.f_preamount = Number(Number(ret.data.chargenum).toFixed(2))\n      Object.assign(self.stairPrice, self.stairPrice, ret.data)\n      self.stairPrice.f_temp_amount = Number((self.stairPrice.f_preamount - 0) - (self.stairPrice.f_balance - 0))\n      self.stairPrice.f_collection = Number(self.stairPrice.f_temp_amount)\n    }\n  } catch (ret) {\n    console.log(ret.stack)\n    self.clearNum()\n    if (ret.status === 404) {\n      self.$showMessage('连接后台服务器失败，请重新划价')\n    } else if (ret.status === 501) {\n      self.$showMessage(ret.data + '，请重新划价')\n    } else {\n      self.$showMessage('划价错误，请重新划价')\n    }\n    self.iserro = true\n  }\n}\n\nlet preamountGen = function* (self) {\n  try {\n    var f_temp_amount = 0\n    if (!self.stairPrice.f_temp_amount) {\n      f_temp_amount = 0\n    } else {\n      f_temp_amount = self.stairPrice.f_temp_amount\n    }\n    let temp =  (f_temp_amount - 0) + (self.userInfo.f_balance - 0)\n    let getGas = yield co(feeCalculate(self, temp))\n    let getAmount = null\n    if(Vue.PosUtil.posParam.gasAfterFee){\n      if (getGas.data.gas) {\n        if (self.userInfo.f_isdecimal === '是') {\n          // self.payinfo.f_preamount = temp\n          self.stairPrice.f_pregas = (getGas.data.gas - 0).toFixed(2)\n          getAmount = yield co(gasCalculate(self, getGas.data.gas))\n          getAmount.data.f_stair1fee = Number(getAmount.data.f_stair1fee)\n          getAmount.data.f_stair2fee = Number(getAmount.data.f_stair2fee)\n          getAmount.data.f_stair3fee = Number(getAmount.data.f_stair3fee)\n          getAmount.data.chargenum = Number(getAmount.data.chargenum)\n          self.stairPrice.f_preamount = Number((getAmount.data.chargenum - 0).toFixed(2))\n        } else {\n          self.stairPrice.f_pregas = parseInt(getGas.data.gas - 0)\n          getAmount = yield co(gasCalculate(self, self.stairPrice.f_pregas))\n          getAmount.data.f_stair1fee = Number(getAmount.data.f_stair1fee)\n          getAmount.data.f_stair2fee = Number(getAmount.data.f_stair2fee)\n          getAmount.data.f_stair3fee = Number(getAmount.data.f_stair3fee)\n          getAmount.data.chargenum = Number(getAmount.data.chargenum)\n          self.stairPrice.f_preamount = Number(getAmount.data.chargenum.toFixed(2))\n        }\n      }\n    }else {\n      getAmount=getGas\n      self.stairPrice.f_pregas = (getGas.data.gas - 0).toFixed(2)\n      self.stairPrice.f_preamount = Number(getAmount.data.chargenum.toFixed(2))\n      // Object.assign(getAmount, getAmount, getGas)\n    }\n    self.stair = getAmount.data\n    Object.assign(self.stairPrice, self.stairPrice, getAmount.data)\n    self.stairPrice.f_collection = Number(self.stairPrice.f_temp_amount)\n    self.iserro = false\n  } catch (error) {\n    self.clearNum()\n    console.log()\n    if (error.status === 404) {\n      self.$showMessage('连接后台服务器失败，请重新划价或联系管理人员')\n    } else if (error.status === 501) {\n      self.$showMessage(error.data + '，请重新划价或联系管理人员')\n    } else {\n      self.$showMessage('划价错误，请重新划价或联系管理人员')\n    }\n    console.log(error)\n  }\n}\nexport default {\n  title: '划价',\n  data () {\n    return {\n      isguding:false,\n      hideHead: false,\n      sInfos: {\n        gas: [\n           {'para': '40方', isActive: false},\n           {'para': '60方', isActive: false},\n           {'para': '80方', isActive: false},\n           {'para': '100方', isActive: false},\n           {'para': '150方', isActive: false},\n           {'para': '200方', isActive: false},\n           {'para': '其他', isActive: false}\n        ],\n        money: [\n          {'para': '50元', isActive: false},\n          {'para': '100元', isActive: false},\n          {'para': '150元', isActive: false},\n          {'para': '200元', isActive: false},\n          {'para': '250元', isActive: false},\n          {'para': '300元', isActive: false}\n        ]\n      },\n      stairPrice: {\n        f_preamount: 0,\n        f_pregas: 0,\n        f_price_id: 0,\n        f_balance: 0,\n        f_curbalance: 0,\n        f_temp_amount: 0,\n        f_collection: 0,\n        f_delaypay: 0,\n        hand_ids: []\n      },\n      canbuy: false,\n      rows: [],\n      type: '',\n      stair: {\n        f_stair1fee: 0,\n        f_stair2fee: 0,\n        f_stair3fee: 0\n      }\n    }\n  },\n  props: ['userInfo', 'cardInfo','stairPrices'],\n  methods: {\n    back (param) {\n      if(param === 'tosell'){\n        return\n      }else{\n        this.$back(param)\n      }\n    },\n    verifyCard() {\n      if(this.userInfo.f_meter_type !=='物联网表'){\n        this.$goto('choose-pay-way',\n          {userInfo:this.userInfo,cardInfo:this.cardInfo,stairPrice: this.stairPrice},'self',this.callBack)\n      }\n      let readinfo = this.$AndroidPlugin.read()\n      this.$closeAlert()\n      this.gotoComponents(readinfo)\n    },\n\n    gotoComponents(readinfo) {\n      if (readinfo.code === 200 && readinfo.msg.CardID === this.cardInfo.CardID) {\n        this.stairPrice.f_curbalance = Number(this.curbalance).toFixed(2)\n        this.$goto('choose-pay-way',\n          {userInfo:this.userInfo,cardInfo:this.cardInfo,stairPrice: this.stairPrice},'self',this.callBack)\n      } else {\n        this.$back('卡号不一致，请重新读卡购气！')\n      }\n    },\n    maffrim () {\n      // console.log('quernnnnnnnn')\n      this.verifyCard()\n    },\n    gasfeecalculate () {\n      let gen = feecalculateGen(this)\n      return co(gen)\n    },\n    clearNum () {\n      this.stairPrice.f_temp_amount = this.userInfo.f_collection_type === '按金额' ? null : 0\n      this.stairPrice.f_pregas = this.userInfo.f_collection_type === '按金额' ? 0 : null\n      this.stairPrice.f_preamount = 0\n      this.stairPrice.f_collection = 0\n      this.stair = {}\n    },\n    pregas() {\n      if(this.userInfo.f_collection_type !== '按金额') {\n        if (this.stairPrice.f_pregas && this.stairPrice.f_pregas >0) {\n          // console.log('remain', this.stairPrice.f_pregas > this.userInfo.f_remain_gas)\n          if (this.stairPrice.f_pregas > this.userInfo.f_remain_gas) {\n            this.$showMessage(this.userInfo.f_cycle_start + '至' + this.userInfo.f_cycle_end + '限购气量为' + this.userInfo.limit_gas + '方，剩余可购气量为' + this.userInfo.f_remain_gas + '方，请重新选择购气量且不要大于' +\n              this.userInfo.f_remain_gas + '方')\n            this.clearNum()\n            return\n          }\n          co(pregasGen(this))\n        }\n      }\n    },\n    preamount() {\n      if(this.userInfo.f_collection_type === '按金额'){\n        if (this.stairPrice.f_temp_amount && this.stairPrice.f_temp_amount >0) {\n          this.stairPrice.f_temp_amount = (this.stairPrice.f_temp_amount - 0).toFixed(2)\n          co(preamountGen(this))\n        } else {\n          this.clearNum()\n        }\n      }\n    },\n    fastBuy () {\n      let nodes = event.currentTarget\n      console.log(\"nodes\",nodes)\n      console.log(\"this.rows\",this.rows)\n      for (let i = 0; i < this.rows.length; i++) {\n        this.rows[i].isActive = false\n        if (this.rows[i].para === nodes.innerText) {\n          this.rows[i].isActive = true\n        }\n      }\n      if (nodes.innerText !== '其他') {\n        this.isReadOnly = true\n        if (this.userInfo.f_collection_type === '按金额') {\n          this.stairPrice.f_temp_amount = parseInt(nodes.innerText.substr(0, nodes.innerText.length - 1))\n          this.preamount()\n        } else {\n          this.stairPrice.f_pregas = parseInt(nodes.innerText.substr(0, nodes.innerText.length - 1))\n          this.pregas()\n        }\n      } else {\n        this.isReadOnly = false\n        this.clearNum()\n      }\n\n    },\n    callBack(orderInfo) {\n      // console.log(orderInfo)\n      if (orderInfo === 'getbillerro') {\n        this.$showMessage('下单失败，请重新确认订单！')\n      } else if (orderInfo === 'timeout') {\n        this.$showMessage('未查询到支付记录请重新确认订单！（已支付用户请等待自动退款再重新购气，如未退款请联系工作人员）')\n      }else if (orderInfo === 'checkbillerro') {\n        this.$showMessage('查询支付情况失败，请重新下单支付!（如已支付请到营业厅办理）')\n      } else {\n        this.back(orderInfo)\n      }\n    }\n  },\n  computed: {\n    'curbalance'() {\n      if (this.stairPrice.f_preamount !== '' && this.stairPrice.f_temp_amount !== '') {\n        if (this.userInfo.f_collection_type === '按金额') {\n          return ((this.stairPrice.f_collection - 0) + (this.stairPrice.f_balance - 0) - (this.stairPrice.f_preamount - 0)).toFixed(2)\n        } else {\n          return ((this.stairPrice.f_collection - 0) - (this.stairPrice.f_temp_amount - 0)).toFixed(2)\n        }\n      } else {\n        return 0\n      }\n    }\n  },\n  watch: {\n    'stairPrice.f_temp_amount'(val) {\n      if (this.stairPrice.f_temp_amount && this.stairPrice.f_preamount > 0) {\n        this.canbuy = true\n      } else {\n        this.canbuy = false\n      }\n    },\n    'stairPrice.f_preamount'(val) {\n      if (val > 0 && this.stairPrice.f_temp_amount) {\n        this.canbuy = true\n      } else {\n        this.canbuy = false\n      }\n    }\n  },\n  ready () {\n    console.log('进入购气划价界面')\n    console.log('userinfo和cardinfo', this.userInfo, this.cardInfo)\n    // this.payinfo.billnum = this.$PosUtil.getBillNum(this.userinfo.f_userinfo_id)\n    // console.log(this.stairPrice.billnum)\n\n    this.stairPrice.f_price_id = this.userInfo.f_price_id\n    this.stairPrice.f_user_id = this.userInfo.f_user_id\n    this.stairPrice.f_meter_type = this.userInfo.f_meter_type\n    this.stairPrice.f_balance = this.userInfo.f_balance\n    console.log('this.userInfo.f_collection_type', this.userInfo.f_collection_type)\n    if (this.userInfo.f_collection_type === '按金额') {\n      this.type = '金额'\n      this.rows = this.sInfos.money\n    } else {\n      this.type = '气量'\n      this.rows = this.sInfos.gas\n    }\n    if (this.userInfo.f_price_type === '阶梯气价') {\n      this.isguding = false\n    } else if (this.userInfo.f_price_type === '固定气价') {\n      this.isguding = true\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// CardSellGas.vue?99cbaf74","module.exports = \" <div> <div class=cardsellgas> <div class=mhead v-if=!hideHead> <ul> <li> <text>购气写卡</text> </li> </ul> </div> <div class=body> <div class=selectview> <h5>请选择购气{{type}} </h5> <ul class=selectbuy1 v-for=\\\"row in rows\\\"> <li><a href=# v-bind:class=\\\"{ getfocus: row.isActive }\\\" @click=fastBuy()><span>{{row.para}}</span></a></li> </ul> </div> <table class=tabprice> <tr> <td class=lab>预购金额：</td> <td><input type=number v-model=stairPrice.f_preamount readonly=readonly /></td> <td class=lab align=right>预购气量：</td> <td><input type=number v-model=stairPrice.f_pregas @blur=pregas() placeholder=请输入气量 :readonly=\\\"userInfo.f_collection_type === '按金额'||isReadOnly\\\"/></td> <td class=lab align=right>本次缴费：</td> <td><input type=number v-model=stairPrice.f_temp_amount @blur=preamount() placeholder=请输入金额 :readonly=\\\"userInfo.f_collection_type !== '按金额'||isReadOnly\\\"/></td> </tr> </table> <div class=stairview> <guding-price v-if=isguding :stair=stair> </guding-price> <jieti-price v-if=!isguding :stair=stair> </jieti-price> </div> <div class=buybtn style=\\\"margin-top: -10%\\\"> <button type=button class=\\\"btn btn-success\\\" @click=maffrim() :disabled=!canbuy> 确认订单 </button> </div> </div> </div> <div class=foot style=\\\"margin-top: -18%\\\" @click=\\\"back('tomain')\\\"> <text>返回</text> </div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/charge/sellgas/CardSellGas.vue\n// module id = 921\n// module chunks = 17","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!../../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./CardSellGas.vue\")\n__vue_template__ = require(\"!!vue-html-loader!../../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./CardSellGas.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/charge/sellgas/CardSellGas.vue\n// module id = 1045\n// module chunks = 17"],"sourceRoot":""}